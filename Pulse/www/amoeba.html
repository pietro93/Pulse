<!DOCTYPE html>
<html>
<head>
    <title>Pulsing Amoeba</title>
    
    <!-- JQuery -->
    <script src="scripts/jquery-1.9.1.min.js"></script>
    
    <!-- Bootstrap -->
    <link id="stylesheet" href="css/bootstrap.min.css" rel="stylesheet" />
    <script src="scripts/bootstrap.min.js"></script>

    <!-- Custom CSS -->
    <link id="stylesheet" href="css/amoeba.css" rel="stylesheet" />
        
    <!-- Custom Scripts -->
    <script type="text/javascript" src="scripts/audio.js"></script>
    <script type="text/javascript" src="scripts/swipe.js"></script>

</head>
<body>

        <container id="container">
            <amoeba id="amoeba"></amoeba>
        </container>

        <script type="text/javascript" src="scripts/amoeba.js"></script>
        
        <script type="text/javascript">
            square(container)
            createAmoeba()
            //Set swiping properties
            $("#container").swipe({
                swipeUp: function (event, direction, distance, duration) {
                    switch(getStatus()){
                        case "neutral":
                            excite();
                            break;
                        case "calm":
                            neutralise();
                            break;
                        case "normal":
                            lightUp();
                            break;
                        case "ignited":
                            normalise();
                            break;
                    } 
                    console.log("Warming up...")
                    printStatus();
                },
                swipeDown: function (event, direction, distance, duration) {
                    switch(getStatus()){
                        case "neutral":
                            cooldown();
                            break;
                        case "excited":
                            neutralise();
                            break;
                        case "normal":
                            ignite();
                            break;
                        case "lit":
                            normalise();
                            break;
                    } 
                    console.log("Cooling down...")
                    printStatus();
                },
                swipeLeft: function (event, direction, distance, duration) {
                        switch (getStatus()) {
                            case "neutral":
                                petrify();
                                break;
                            case "normal":
                                neutralise();
                                break;
                            case "petrified":
                                if (duration < 500){
                                    normalise();
                                }
                                break;
                        }
                        console.log("Switching amoeba...")
                        printStatus();
                },
                swipeRight: function (event, direction, distance, duration) {
                    switch (getStatus()) {
                        case "neutral":
                            normalise();
                            break;
                        case "normal":
                            petrify();
                            break;
                        case "petrified":
                            if (duration < 500){
                                neutralise();
                            }
                            break;
                    }
                    console.log("Switching amoeba...")
                    printStatus();
                },
                swipeStatus: function (event, phase, direction, distance, duration, fingers) {
                    if (status == "petrified" && (duration > 500) ) {
                        alert();
                        printStatus();
                    }
                    if (status == "alert" && (phase == ("end" || "cancel") || event.type == "touchend")) {
                        petrify();
                        printStatus();
                    }                    
            },                
            });
        </script>

</body>
</html>