<!DOCTYPE html>
<html>
<head>
    <title>Pulsing Amoeba</title>
    
    <!-- JQuery -->
    <script src="scripts/jquery-1.9.1.min.js"></script>

    <!-- Custom CSS -->
    <link id="stylesheet" href="css/amoeba.css" rel="stylesheet" />
        
    
    <!-- Custom Scripts -->
    
    <script type="text/javascript" src="scripts/swipe.js"></script>

</head>
<body>  

        <container id="container">
            <amoeba id="amoeba"></amoeba>
        </container>

        <script type="text/javascript" src="scripts/amoeba.js"></script>
        <script type="text/javascript" src="scripts/audio.js"></script>
    
        <script type="text/javascript">
            square(container)
            createAmoeba()
            
            //Set swiping properties
            $("#container").swipe({
                swipeUp: function (event, direction, distance, duration) {
                    switch(getStatus()){
                        case "neutral":
                            excite();
                            stop()
                            setTimeout(function () {play(happiness)}, 3000)
                            break;
                        case "calm":
                            neutralise();
                            stop()
                            setTimeout(function () {play(neutral)}, 3000)
                            break;
                    } 
                    console.log("Warming up...")
                    printStatus();
                },
                swipeDown: function (event, direction, distance, duration) {
                    stop()
                    switch(getStatus()){
                        case "neutral":
                            cooldown();
                            stop()
                            setTimeout(function () {play(sadness)}, 3000)
                            break;
                        case "excited":
                            neutralise();
                            stop()
                            setTimeout(function () {play(neutral)}, 3000)
                            break;
                    } 
                    console.log("Cooling down...")
                    printStatus();
                },
                swipeLeft: function (event, direction, distance, duration) {
                        colour--;
                        if (colour < -1) { colour = 2 };
                        setColour(colour);
                        console.log("Changing colour...")
                },
                swipeRight: function (event, direction, distance, duration) {
                    colour++;
                    if (colour > 2) { colour = -1 };
                    setColour(colour);
                    console.log("Changing colour...")
                },
                tap: function (event, target) {
                    if (playing) { stop(); console.log("Sound stopped.") }
                    else setTimeout(function () {play(sound)}, 3000)
                },
            });

        </script>    

</body>
</html>